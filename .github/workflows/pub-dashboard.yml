name: pub-dashboard

on:
  schedule:
    # Runs every 4 hours
    - cron: "0 0/4 * * *"
  push:
    branches: [ "main" ]
    paths:
      - '.github/workflows/pub-dashboard.yml'
  pull_request:
    branches: [ "main" ]
    paths:
      - '.github/workflows/pub-dashboard.yml'

jobs:
  pub-dashboard-job:
    runs-on: ubuntu-latest
    name: pub-dashboard
    steps:
      - name: run pub-dashboard
        uses: AmosHuKe/pub-dashboard@v1.0.0
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          github_repo: "https://github.com/fluttercandies/packages"
          filename: "README.md"
          publisher_list: "fluttercandies.com"
          package_list: "flutter_tilt,scrollview_observer,dext,flutter_custom_calendar,draggable_container,flutter_filereader,flutter_image_compress,flutter_live_activities,harmony_os_version,nav_router,saver_gallery,upgrade_tool,w_popup_menu,w_reorder_list,"
          sort_field: "published"
          sort_mode: "asc"
